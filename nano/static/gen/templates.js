window.JST = window.JST || {};
window.JST['invoice_item'] = _.template('<tr class="item " id="invoice-item-<%= InvoiceItem.get("id") %>">\n  <td class="item_l quantity_td">\n    <% if (InvoiceItem.shouldRenderField("quantity")) { %>\n      <%= InvoiceItem.getQuantityString() %> \n    <% } %>\n    <%= InvoiceItem.get("InvoiceItemType").name  %>\n  </td>\n\n  <td class="item_l description_td">\n    <%= InvoiceItem.get("description") %>\n  </td>\n\n  <td class="item_r price_td"> \n    <% if (InvoiceItem.shouldRenderField("price")) { %>\n      <%= numberFormat(InvoiceItem.get("price"), 2) %>\n    <% } %>\n  </td>\n  \n  <% if (User.vatRegistration.get("status") == "registered") { %>\n  <td class="item_r taxrate_td">\n    <% if (InvoiceItem.shouldRenderField("tax")) { %>\n      <%= numberFormat(InvoiceItem.get("TaxRate").rate, 0) %>%\n    <% } %>\n  </td>\n  <% } %>\n\n  <td class="item_r subtotal_td">\n    <% if (Invoice.get("status") == "draft") { %>\n    <div class="item-controls">\n      <a data-id="<%= InvoiceItem.get("id") %>" href="#" class="btn-small edit" title="Edit invoice item">Edit</a>\n      <a data-id="<%= InvoiceItem.get("id") %>" href="/invoice_item/delete" class="delete">\n        <img src="/images/delete.png" />\n      </a>\n    </div>\n    <% } %>\n    <% if (InvoiceItem.shouldRenderField("total")) { %>\n      <%= numberFormat(InvoiceItem.get("total"), 2) %>\n    <% } %>\n  </td>\n</tr>\n\n');
window.JST['edit_invoice_item'] = _.template('<div id="edit-invoice-item" class="app-popup">\n  <div class="content">\n    <form accept-charset="utf-8" method="post" action="/frontend_dev.php/invoice_item/update" class="inline big">\n      <input type="hidden" name="id" value="<%= InvoiceItem.get("id") %>" />\n      <input type="hidden" name="invoice_item[invoice_id]" value="<%= InvoiceItem.get("invoice_id") %>" />\n      <ul>\n        <li>\n          <label>Qty</label>\n          \n          <input size="2" id="quantity" type="text" name="invoice_item[quantity]" value="<%= InvoiceItem.getQuantityString() %>">\n\n          <select id="invoice_item_type" name="invoice_item[type_id]">\n            <% App.invoiceItemTypes.each(function(t) { %>\n              <% if (t.get("id") == InvoiceItem.get("type_id")) { %>\n                <option selected="selected" value="<%= t.get("id") %>"><%= t.get("name") %></option>\n              <% } else { %> \n                <option value="<%= t.get("id") %>"><%= t.get("name") %></option>\n              <% } %>\n            <% }) %>\n          </select>\n          \n          <div id="hours-help" class="help" style="display: none">\n            (e.g. One and a half hours can be entered as either 1:30 or 1.5)\n          </div>\n        </li>\n        \n        <li>\n          <label>Details</label>\n          <textarea id="details" class="wide" name="invoice_item[description]"><%= InvoiceItem.get("description") %></textarea>\n        </li>\n\n        <li id="price-row">\n          <label>Unit Price (£)</label>\n          <input id="price" type="text" name="invoice_item[price]" value="<%= InvoiceItem.get("price") %>" />\n        <li>\n        \n        <li id="tax-row">\n          <label>VAT</label>\n          <select name="invoice_item[tax_rate_id]">\n            <% App.taxRates.each(function(t){ %>\n              <% if (InvoiceItem.get("tax_rate_id") == t.get("id")) { %>\n              <option selected="selected" value="<%= t.get("id") %>"><%= t.get("name") %> (<%= t.get("rate") %>%)</option>\n              <% } else { %>\n              <option value="<%= t.get("id") %>"><%= t.get("name") %> (<%= t.get("rate") %>%)</option>\n              <% } %>\n            <% }) %> \n          </select>\n        </li>\n\n        <li class="actions">\n          <button id="save" class="btn primary">Update</button> &nbsp; \n          <a href="#" class="cancel">Cancel</a>\n        </li>\n      </ul>\n    </form>\n  </div>\n</div>\n');
window.JST['new_invoice_item'] = _.template('<div id="new-invoice-item" class="app-popup">\n  <div class="header">\n    Add Invoice Item\n  </div>\n\n  <div class="content">\n    <form accept-charset="utf-8" method="post" action="/frontend_dev.php/invoice_item/create" class="inline big">\n      <input type="hidden" name="invoice_item[invoice_id]" value="<%= Invoice.get("id") %>" />\n      <ul>\n        <li>\n          <label>Qty</label>\n          \n          <input size="2" id="quantity" type="text" name="invoice_item[quantity]" value="1">\n\n          <select id="invoice_item_type" name="invoice_item[type_id]">\n            <% App.invoiceItemTypes.each(function(t) { %>\n              <% if (t.get("name") == App.defaults.itemType) { %> \n                <option selected="selected" value="<%= t.get("id") %>"><%= t.get("name") %></option>\n              <% } else { %>\n                <option value="<%= t.get("id") %>"><%= t.get("name") %></option>\n              <% } %>\n            <% }) %>\n          </select>\n\n          <div id="hours-help" class="help" style="display: none">\n            (e.g. One and a half hours can be entered as either 1:30 or 1.5)\n          </div>\n        </li>\n        \n        <li>\n          <label>Details</label>\n          <textarea id="details" class="wide" name="invoice_item[description]"></textarea>\n        </li>\n\n        <li id="price-row">\n          <label>Unit Price (£)</label>\n          <input id="price" type="text" name="invoice_item[price]" />\n        <li>\n        \n        <li id="tax-row">\n          <label>Tax</label>\n          <select name="invoice_item[tax_rate_id]">\n            <% App.taxRates.each(function(t){ %>\n              <% if (t.get("id") == App.defaults.taxRateId) { %> \n                <option selected="selected" value="<%= t.get("id") %>"><%= t.get("name") %> (<%= t.get("rate") %>%)</option>\n              <% } else { %>\n                <option value="<%= t.get("id") %>"><%= t.get("name") %> (<%= t.get("rate") %>%)</option>\n              <% } %>\n            <% }) %> \n          </select>\n        </li>\n\n        <li class="actions">\n          <button id="save" class="btn primary">Create</button> &nbsp; \n          <a href="#" class="cancel">Cancel</a>\n        </li>\n      </ul>\n    </form>\n  </div>\n</div>\n');
